<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  <link rel="stylesheet" href="style_zemlje.css">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css" />

  <title>Test-Short</title>

</head>

<body>
  <div class="hero-container">
    <div class="hero-image-area">
      <div class="hero-text-area">
        <h1>World Countries Generator</h1>

          <div class="countCntr">
            <div class="text">
              <p class="paragraph">Number of countries in the library: <input class="headerNumber" type: readonly> </p>
             
            </div>
            <div class="btnArea">
              <button class="sortBtn" type="button">Sort
                <i class="fas fa-sort-alpha-up"></i>
            </div>
        </div>
        <div class="input_zone">
          <div class="input_wrapper top">
            <input class="input" type="text" name="" placeholder="Search by any word " />
            <button class="searchbtn" type="search">
              <i class="fas fa-search"></i>
            </button>
          </div>
        
          <div class="input_wrapper bottom">
            <input class="input1" type="text" name="" value='' placeholder="Search by first letters" />
            <button class="searchbtn1" type="search">
              <i class="fas fa-search"></i>
            </button>
          </div>
        </div>   

        <div class="countries-sort__paragraph">


        </div>
        <!-- <div>
          <label for="population">Filter by population </label>
          <select name="select population number" class="populi">
            <option value="10000">  1000</option>
            <option value="100 000">  100 000</option>
            <option value="1 000 000"> 1 million</option>
          </select>
        </div>-->
      </div>
    </div>

    <div class="flex-container"></div>

    <script src="countries.js"></script>
    <script>
      console.log(countries.length)
      const headNum = document.querySelector('.headerNumber')
      const flexContainer = document.querySelector('.flex-container')
      const searchBtn = document.querySelector('.searchbtn')
      const inputArea = document.querySelector('.input')
      const countriesSortedParagraph = document.querySelector('.countries-sort__paragraph')
      const searchBtn1 = document.querySelector('.searchbtn1')
      const inputLetter = document.querySelector('.input1')
      const sortbtn = document.querySelector('.sortBtn')



      //*************GENERATE ALL COUNTRY DIVS***************************************


      function generateCountry() { //FN to GENERATE COUNTRY

        for (let country of countries) {

          let div = document.createElement('div')
          let countryName = document.createElement('h2')

          countryName.textContent = country

          div.appendChild(countryName)

          flexContainer.appendChild(div)

        }

      }
      generateCountry()
      //TOTAL NUMBER OF COUNTRIES will fill onload with window.onload = function ()

      window.onload = totalCountryNumber;

      function totalCountryNumber() {

        let num = countries.length
        console.log(num)
        document.querySelector('.headerNumber').value = num //this is printed in input field ,class '.header number' 

      }

      //***********************STARTING WORD*************************************
      searchBtn1.addEventListener('click', startsWithLetter = () => {
        flexContainer.textContent = '';

        let startsWithLetters = countries.filter((country) => country.toLowerCase().startsWith(inputLetter.value));
 
        for (const country of startsWithLetters) {
          let div = document.createElement('div');
          let countryName = document.createElement('h2')

          countryName.textContent = country

          flexContainer.appendChild(div);
          div.appendChild(countryName)

          countriesSortedParagraph.textContent =
            `There are a total of ${startsWithLetters.length} countries starting with '${inputLetter.value}'`;
        }

      })
      
        searchBtn1.addEventListener('click', () => {
              generatorFixer()
          })
          function generatorFixer() {
        if ( inputLetter.textContent != '') {
           inputLetter.textContent = ''
           startsWithLetter()

        } else {

          startsWithLetter()
        }
    } 
      //******************ANY WORD****************************
      searchBtn.addEventListener('click', includesLetter = () => {

        flexContainer.textContent = '';
        let includesLetters = countries.filter((country) => country.toLowerCase().includes(inputArea.value));
        for (const country of includesLetters) {

          let div = document.createElement('div');
          let countryName = document.createElement('h2')
          

          countryName.textContent = country
          flexContainer.appendChild(div);
          div.appendChild(countryName)

          countriesSortedParagraph.textContent =
            `There are a total of ${includesLetters.length} countries including the letters '${inputArea.value}'`
        }

      });

      sortbtn.addEventListener('click', sortCountries, )

      function sortCountries() {
        
        flexContainer.textContent = '';

        generateCountry(countries.reverse()) // generateCountry is fn which creates all the country divs
      }

      /* sortbtn.addEventListener('click', sortStartsWith)

     function sortStartsWith() {
        flexContainer.textContent = '';
        let start = countries

        startsWithLetter(start.reverse())
      }
      /*
            function sortIncludeLetter (){
                flexContainer.textContent = '';
          
                includesLetter (countries.reverse())
            }
      */
      /* startsWithLetter

      includesLetter
*/

      //****************************************************
      const startsWithS = countries.findIndex(countryS => {
        return countryS[0] === 'S' ? true : false

      })
      console.log(countries[startsWithS]) //1st country which starts with big letter S






      //**************************************************


      /*   
   function headColorChange() {

    const headValue = document.querySelector(".headerColor");
    document.querySelector("thead").style.background = headValue.value
}

   ***********************
   
   textaLign.addEventListener('click', alignText)

function alignText() {
    let alText = document.querySelectorAll("td")
    let alTextValue = document.querySelector(".textAlign").value

    for (let td of alText) {
        td.style.textAlign = alTextValue
    }
}

      //*************POPULATION************************

     
*/





      console.log('**************************************************************************')

      /*  const population = countries.filter(d => {
        return d.population < 300000;
      });
      console.log(population);
*/
      console.log(Object.keys(countries[0]));

      // Object to ARRAY

      var countriesArray = Object.keys(countries).map(key => {
        return countries[key];
      });

      console.log(countriesArray);
    </script>
</body>

</html>